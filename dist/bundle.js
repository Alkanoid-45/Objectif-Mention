(()=>{var __webpack_modules__={982:()=>{eval('var USER_ID = "NZuC-8ONb93muw6BP"; // Remplacez par votre identifiant d\'utilisateur Email.js\r\nvar SERVICE_ID = "service_3y4q2xc"; // Remplacez par votre identifiant de service Email.js\r\nvar TEMPLATE_ID = "template_mvy8wc1";\r\n\r\nlet listeSeances = [];\r\n\r\nchargerSeances();\r\n\r\nfunction ajouterSeance(){\r\n    var dateInput = document.getElementById("dateInput").value;\r\n    var heureInput = document.getElementById("heureInput").value;\r\n    var choixCours = document.getElementById("choixCours").value;\r\n    var choixClasse = document.getElementById("classeInput").value;\r\n    var nbInscrit = 0;\r\n\r\n    if (!dateInput  || !heureInput || !choixCours || !choixClasse) {\r\n        alert("Veuillez fournir toutes les information.");\r\n        return;\r\n    }\r\n\r\n    var nouvelleSeance = {\r\n        date: dateInput,\r\n        heure: heureInput,\r\n        cours: choixCours,\r\n        classe: choixClasse,\r\n        inscris: nbInscrit\r\n    };\r\n\r\n    listeSeances.push(nouvelleSeance);\r\n\r\n    verifierDate();\r\n    sauvegarderSeances();\r\n    afficherSeances();\r\n}\r\n\r\n\r\n\r\n\r\nfunction afficherSeances() {\r\n    var seanceContainer = document.getElementById("seanceContainer");\r\n    seanceContainer.innerHTML = "";\r\n\r\n    for (var i = 0; i < listeSeances.length; i++) {\r\n        var seance = listeSeances[i];\r\n        var nouvelleSeance = document.createElement("div");\r\n        nouvelleSeance.className = "seance";\r\n        nouvelleSeance.innerHTML = "<span class=\'closeBtn\' onclick=\'supprimerSeance(" + i + ")\'>&times;</span><p>Date : " + seance.date + "</p><p>Heure : " + seance.heure + "</p><p>Cours : " + seance.cours + "</p>";\r\n\r\n\r\n\r\n        var boutonInscription = document.createElement("button");\r\n        boutonInscription.textContent = "S\'inscrire";\r\n        boutonInscription.id = "btn_ajouter"\r\n        boutonInscription.onclick = function(index) {\r\n            return function() {\r\n                seance.inscris++;\r\n                inscription(index);\r\n            };\r\n        }(i);\r\n\r\n        var nombreInscrits = document.createElement("span");\r\n        nombreInscrits.textContent = "Nombre d\'inscrits : " + listeSeances[i].inscris; // Utilisation de la longueur du tableau d\'inscriptions\r\n        nombreInscrits.id = "nombreInscrits_" + i;\r\n\r\n        nouvelleSeance.appendChild(nombreInscrits);\r\n        nouvelleSeance.appendChild(boutonInscription);\r\n            seanceContainer.appendChild(nouvelleSeance);\r\n    }\r\n    \r\n    console.log(listeSeances);\r\n}\r\n\r\n\r\n\r\nfunction inscription(listeSeances, indexSeance) {\r\n    var modal = document.getElementById("myModal");\r\n    modal.style.display = "block"; // Affiche la pop-up\r\n\r\n    // Ferme la pop-up si on clique sur la croix\r\n    var closeBtn = document.getElementsByClassName("close")[0];\r\n    closeBtn.onclick = function() {\r\n        modal.style.display = "none";\r\n        for (var i = 0; i < listeSeances; i++) {\r\n            inscriptions[indexSeance].splice(indexSeance, 1);\r\n        } \r\n    };\r\n    var inscriptionForm = document.getElementById("inscriptionForm");\r\n    inscriptionForm.style.display = "block";\r\n\r\n    if (listeSeances.length > 0 && listeSeances[indexSeance]) {\r\n        var inscriptionForm = document.getElementById("inscriptionForm");\r\n        inscriptionForm.style.display = "block";\r\n        \r\n        // Stockez l\'index de la séance en cours d\'inscription\r\n        inscriptionForm.dataset.indexSeance = indexSeance;\r\n\r\n            // Déclarez la variable spanInscrits ici\r\n        var spanInscrits = document.getElementById("nombreInscrits_" + indexSeance);\r\n            \r\n        if (spanInscrits) {\r\n                // Ajoutez l\'inscription au tableau correspondant à la séance\r\n            inscriptions[indexSeance].push({\r\n                nom: nom,\r\n                prenom: prenom,\r\n                email: email,\r\n                role: role\r\n            });\r\n\r\n            spanInscrits.textContent = "Nombre d\'inscrits : " + inscriptions[indexSeance].length;\r\n            \r\n        }\r\n        else{\r\n            alert("Aucunne séance séléctionnée");\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction supprimerSeance(indexSeance, inscription) {\r\n    listeSeances.splice(indexSeance, 1);\r\n    sauvegarderSeances();\r\n    afficherSeances();\r\n}\r\n\r\n\r\nfunction verifierDate() {\r\n    var currentDate = new Date().toISOString().slice(0, 10);\r\n    for (var i = 0; i < listeSeances.length; i++) {\r\n        var seance = listeSeances[i];\r\n        if (seance.date < currentDate) {\r\n            listeSeances.splice(i, 1);\r\n            sauvegarderSeances();\r\n            afficherSeances();\r\n            i--;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction sauvegarderSeances() {\r\n    localStorage.setItem(\'seances\', JSON.stringify(listeSeances));\r\n}\r\n\r\n\r\nfunction chargerSeances() {\r\n    var seancesStockees = localStorage.getItem(\'seances\');\r\n    if (seancesStockees) {\r\n        listeSeances = JSON.parse(seancesStockees);\r\n        afficherSeances();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction validerInscription() {\r\n    resetInscriptionForm()\r\n    var indexSeance = document.getElementById("inscriptionForm").dataset.indexSeance;\r\n    var nom = document.getElementById("nom").value;\r\n    var prenom = document.getElementById("prenom").value;\r\n    var email = document.getElementById("email").value;\r\n    var role = document.getElementById("role").value;\r\n\r\n    if (!isValidEmail(email)) {\r\n        document.getElementById("emailError").textContent = "Veuillez entrer un e-mail valide.";\r\n        alert("Please enter a valid email.");\r\n        return;\r\n    } else {\r\n        document.getElementById("emailError").textContent = "";\r\n    }\r\n\r\n    if (!nom || !prenom || !email || !role) {\r\n        alert("Veuillez remplir tous les champs.");\r\n        return;\r\n    }\r\n\r\n    // Vous pouvez utiliser ces informations comme bon vous semble, par exemple, les stocker dans un tableau ou un objet\r\n    // ici, je les affiche simplement dans la console\r\n    console.log("Inscription validée pour la séance " + indexSeance + ":");\r\n    console.log("Nom: " + nom);\r\n    console.log("Prénom: " + prenom);\r\n    console.log("Rôle: " + role);\r\n    console.log("Email: " + email);\r\n    console.log(listeSeances);\r\n    var seance = listeSeances[indexSeance];\r\n    var dateSeance = seance.date;\r\n    var heureSeance = seance.heure;\r\n    var nomCours = seance.cours;\r\n    var classe =  seance.classe;\r\n\r\n\r\n    envoyerEmailConfirmation(nom, prenom, email, role, dateSeance, heureSeance, nomCours,classe);\r\n\r\n    // Réinitialiser le formulaire\r\n    var msg_warn = "Un mail de confirmation vous à été envoyer à l\'adresse mail suivante : " + email\r\n    alert(msg_warn)\r\n    console.log(msg_warn);\r\n    \r\n    return;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// Fonction pour réinitialiser le formulaire d\'inscription\r\nfunction resetInscriptionForm() {\r\n    var inscriptionForm = document.getElementById("inscriptionForm");\r\n    inscriptionForm.style.display = "none";\r\n    inscriptionForm.dataset.indexSeance = "";\r\n    document.getElementById("nom").value = "";\r\n    document.getElementById("prenom").value = "";\r\n    document.getElementById("role").value = "";\r\n    document.getElementById("email").value = "";\r\n}\r\n\r\n\r\nfunction afficherFormulaire() {\r\n        document.getElementById("inscriptionForm").style.display = "block";\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction envoyerEmailConfirmation(nom, prenom, email, role, dateSeance, heureSeance, nomCours,classe) {\r\n    emailjs.init(USER_ID);\r\n\r\n    var templateParams = {\r\n        nom: nom,\r\n        prenom: prenom,\r\n        email: email,\r\n        role: role,\r\n        dateSeance: dateSeance,\r\n        heureSeance: heureSeance,\r\n        nomCours: nomCours,\r\n        classe: classe,\r\n\r\n    };\r\n\r\n    emailjs.send(SERVICE_ID, TEMPLATE_ID, templateParams)\r\n        .then(function(response) {\r\n            console.log("E-mail envoyé avec succès", response);\r\n        }, function(error) {\r\n            console.log("Erreur lors de l\'envoi de l\'e-mail", error);\r\n        });\r\n}\r\n\r\n\r\nfunction isValidEmail(email) {\r\n    // Vérifie si la chaîne \'@stpbb.org\' est présente dans le paramètre \'email\'\r\n    console.log(email)\r\n    return email.includes(\'@stpbb.org\');\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTgyLmpzIiwibWFwcGluZ3MiOiJBQUFBLG1DQUFtQztBQUNuQyxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx1RkFBdUY7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtCQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlCQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veW91ci1wYWNrYWdlLW5hbWUvLi9zcmMvc2VhbmNlL2luZGV4LmpzPzk3MmYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFVTRVJfSUQgPSBcIk5adUMtOE9OYjkzbXV3NkJQXCI7IC8vIFJlbXBsYWNleiBwYXIgdm90cmUgaWRlbnRpZmlhbnQgZCd1dGlsaXNhdGV1ciBFbWFpbC5qc1xyXG52YXIgU0VSVklDRV9JRCA9IFwic2VydmljZV8zeTRxMnhjXCI7IC8vIFJlbXBsYWNleiBwYXIgdm90cmUgaWRlbnRpZmlhbnQgZGUgc2VydmljZSBFbWFpbC5qc1xyXG52YXIgVEVNUExBVEVfSUQgPSBcInRlbXBsYXRlX212eTh3YzFcIjtcclxuXHJcbmxldCBsaXN0ZVNlYW5jZXMgPSBbXTtcclxuXHJcbmNoYXJnZXJTZWFuY2VzKCk7XHJcblxyXG5mdW5jdGlvbiBham91dGVyU2VhbmNlKCl7XHJcbiAgICB2YXIgZGF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlSW5wdXRcIikudmFsdWU7XHJcbiAgICB2YXIgaGV1cmVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGV1cmVJbnB1dFwiKS52YWx1ZTtcclxuICAgIHZhciBjaG9peENvdXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaG9peENvdXJzXCIpLnZhbHVlO1xyXG4gICAgdmFyIGNob2l4Q2xhc3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbGFzc2VJbnB1dFwiKS52YWx1ZTtcclxuICAgIHZhciBuYkluc2NyaXQgPSAwO1xyXG5cclxuICAgIGlmICghZGF0ZUlucHV0ICB8fCAhaGV1cmVJbnB1dCB8fCAhY2hvaXhDb3VycyB8fCAhY2hvaXhDbGFzc2UpIHtcclxuICAgICAgICBhbGVydChcIlZldWlsbGV6IGZvdXJuaXIgdG91dGVzIGxlcyBpbmZvcm1hdGlvbi5cIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBub3V2ZWxsZVNlYW5jZSA9IHtcclxuICAgICAgICBkYXRlOiBkYXRlSW5wdXQsXHJcbiAgICAgICAgaGV1cmU6IGhldXJlSW5wdXQsXHJcbiAgICAgICAgY291cnM6IGNob2l4Q291cnMsXHJcbiAgICAgICAgY2xhc3NlOiBjaG9peENsYXNzZSxcclxuICAgICAgICBpbnNjcmlzOiBuYkluc2NyaXRcclxuICAgIH07XHJcblxyXG4gICAgbGlzdGVTZWFuY2VzLnB1c2gobm91dmVsbGVTZWFuY2UpO1xyXG5cclxuICAgIHZlcmlmaWVyRGF0ZSgpO1xyXG4gICAgc2F1dmVnYXJkZXJTZWFuY2VzKCk7XHJcbiAgICBhZmZpY2hlclNlYW5jZXMoKTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gYWZmaWNoZXJTZWFuY2VzKCkge1xyXG4gICAgdmFyIHNlYW5jZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhbmNlQ29udGFpbmVyXCIpO1xyXG4gICAgc2VhbmNlQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZVNlYW5jZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgc2VhbmNlID0gbGlzdGVTZWFuY2VzW2ldO1xyXG4gICAgICAgIHZhciBub3V2ZWxsZVNlYW5jZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgbm91dmVsbGVTZWFuY2UuY2xhc3NOYW1lID0gXCJzZWFuY2VcIjtcclxuICAgICAgICBub3V2ZWxsZVNlYW5jZS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPSdjbG9zZUJ0bicgb25jbGljaz0nc3VwcHJpbWVyU2VhbmNlKFwiICsgaSArIFwiKSc+JnRpbWVzOzwvc3Bhbj48cD5EYXRlIDogXCIgKyBzZWFuY2UuZGF0ZSArIFwiPC9wPjxwPkhldXJlIDogXCIgKyBzZWFuY2UuaGV1cmUgKyBcIjwvcD48cD5Db3VycyA6IFwiICsgc2VhbmNlLmNvdXJzICsgXCI8L3A+XCI7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyIGJvdXRvbkluc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBib3V0b25JbnNjcmlwdGlvbi50ZXh0Q29udGVudCA9IFwiUydpbnNjcmlyZVwiO1xyXG4gICAgICAgIGJvdXRvbkluc2NyaXB0aW9uLmlkID0gXCJidG5fYWpvdXRlclwiXHJcbiAgICAgICAgYm91dG9uSW5zY3JpcHRpb24ub25jbGljayA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlYW5jZS5pbnNjcmlzKys7XHJcbiAgICAgICAgICAgICAgICBpbnNjcmlwdGlvbihpbmRleCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfShpKTtcclxuXHJcbiAgICAgICAgdmFyIG5vbWJyZUluc2NyaXRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgbm9tYnJlSW5zY3JpdHMudGV4dENvbnRlbnQgPSBcIk5vbWJyZSBkJ2luc2NyaXRzIDogXCIgKyBsaXN0ZVNlYW5jZXNbaV0uaW5zY3JpczsgLy8gVXRpbGlzYXRpb24gZGUgbGEgbG9uZ3VldXIgZHUgdGFibGVhdSBkJ2luc2NyaXB0aW9uc1xyXG4gICAgICAgIG5vbWJyZUluc2NyaXRzLmlkID0gXCJub21icmVJbnNjcml0c19cIiArIGk7XHJcblxyXG4gICAgICAgIG5vdXZlbGxlU2VhbmNlLmFwcGVuZENoaWxkKG5vbWJyZUluc2NyaXRzKTtcclxuICAgICAgICBub3V2ZWxsZVNlYW5jZS5hcHBlbmRDaGlsZChib3V0b25JbnNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIHNlYW5jZUNvbnRhaW5lci5hcHBlbmRDaGlsZChub3V2ZWxsZVNlYW5jZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGxpc3RlU2VhbmNlcyk7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gaW5zY3JpcHRpb24obGlzdGVTZWFuY2VzLCBpbmRleFNlYW5jZSkge1xyXG4gICAgdmFyIG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteU1vZGFsXCIpO1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjsgLy8gQWZmaWNoZSBsYSBwb3AtdXBcclxuXHJcbiAgICAvLyBGZXJtZSBsYSBwb3AtdXAgc2kgb24gY2xpcXVlIHN1ciBsYSBjcm9peFxyXG4gICAgdmFyIGNsb3NlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNsb3NlXCIpWzBdO1xyXG4gICAgY2xvc2VCdG4ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlU2VhbmNlczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGluc2NyaXB0aW9uc1tpbmRleFNlYW5jZV0uc3BsaWNlKGluZGV4U2VhbmNlLCAxKTtcclxuICAgICAgICB9IFxyXG4gICAgfTtcclxuICAgIHZhciBpbnNjcmlwdGlvbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc2NyaXB0aW9uRm9ybVwiKTtcclxuICAgIGluc2NyaXB0aW9uRm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICAgIGlmIChsaXN0ZVNlYW5jZXMubGVuZ3RoID4gMCAmJiBsaXN0ZVNlYW5jZXNbaW5kZXhTZWFuY2VdKSB7XHJcbiAgICAgICAgdmFyIGluc2NyaXB0aW9uRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5zY3JpcHRpb25Gb3JtXCIpO1xyXG4gICAgICAgIGluc2NyaXB0aW9uRm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN0b2NrZXogbCdpbmRleCBkZSBsYSBzw6lhbmNlIGVuIGNvdXJzIGQnaW5zY3JpcHRpb25cclxuICAgICAgICBpbnNjcmlwdGlvbkZvcm0uZGF0YXNldC5pbmRleFNlYW5jZSA9IGluZGV4U2VhbmNlO1xyXG5cclxuICAgICAgICAgICAgLy8gRMOpY2xhcmV6IGxhIHZhcmlhYmxlIHNwYW5JbnNjcml0cyBpY2lcclxuICAgICAgICB2YXIgc3Bhbkluc2NyaXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub21icmVJbnNjcml0c19cIiArIGluZGV4U2VhbmNlKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgaWYgKHNwYW5JbnNjcml0cykge1xyXG4gICAgICAgICAgICAgICAgLy8gQWpvdXRleiBsJ2luc2NyaXB0aW9uIGF1IHRhYmxlYXUgY29ycmVzcG9uZGFudCDDoCBsYSBzw6lhbmNlXHJcbiAgICAgICAgICAgIGluc2NyaXB0aW9uc1tpbmRleFNlYW5jZV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBub206IG5vbSxcclxuICAgICAgICAgICAgICAgIHByZW5vbTogcHJlbm9tLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcm9sZTogcm9sZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNwYW5JbnNjcml0cy50ZXh0Q29udGVudCA9IFwiTm9tYnJlIGQnaW5zY3JpdHMgOiBcIiArIGluc2NyaXB0aW9uc1tpbmRleFNlYW5jZV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgYWxlcnQoXCJBdWN1bm5lIHPDqWFuY2Ugc8OpbMOpY3Rpb25uw6llXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gc3VwcHJpbWVyU2VhbmNlKGluZGV4U2VhbmNlLCBpbnNjcmlwdGlvbikge1xyXG4gICAgbGlzdGVTZWFuY2VzLnNwbGljZShpbmRleFNlYW5jZSwgMSk7XHJcbiAgICBzYXV2ZWdhcmRlclNlYW5jZXMoKTtcclxuICAgIGFmZmljaGVyU2VhbmNlcygpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdmVyaWZpZXJEYXRlKCkge1xyXG4gICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVTZWFuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHNlYW5jZSA9IGxpc3RlU2VhbmNlc1tpXTtcclxuICAgICAgICBpZiAoc2VhbmNlLmRhdGUgPCBjdXJyZW50RGF0ZSkge1xyXG4gICAgICAgICAgICBsaXN0ZVNlYW5jZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICBzYXV2ZWdhcmRlclNlYW5jZXMoKTtcclxuICAgICAgICAgICAgYWZmaWNoZXJTZWFuY2VzKCk7XHJcbiAgICAgICAgICAgIGktLTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzYXV2ZWdhcmRlclNlYW5jZXMoKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VhbmNlcycsIEpTT04uc3RyaW5naWZ5KGxpc3RlU2VhbmNlcykpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2hhcmdlclNlYW5jZXMoKSB7XHJcbiAgICB2YXIgc2VhbmNlc1N0b2NrZWVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlYW5jZXMnKTtcclxuICAgIGlmIChzZWFuY2VzU3RvY2tlZXMpIHtcclxuICAgICAgICBsaXN0ZVNlYW5jZXMgPSBKU09OLnBhcnNlKHNlYW5jZXNTdG9ja2Vlcyk7XHJcbiAgICAgICAgYWZmaWNoZXJTZWFuY2VzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiB2YWxpZGVySW5zY3JpcHRpb24oKSB7XHJcbiAgICByZXNldEluc2NyaXB0aW9uRm9ybSgpXHJcbiAgICB2YXIgaW5kZXhTZWFuY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc2NyaXB0aW9uRm9ybVwiKS5kYXRhc2V0LmluZGV4U2VhbmNlO1xyXG4gICAgdmFyIG5vbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9tXCIpLnZhbHVlO1xyXG4gICAgdmFyIHByZW5vbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJlbm9tXCIpLnZhbHVlO1xyXG4gICAgdmFyIGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbWFpbFwiKS52YWx1ZTtcclxuICAgIHZhciByb2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb2xlXCIpLnZhbHVlO1xyXG5cclxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1haWxFcnJvclwiKS50ZXh0Q29udGVudCA9IFwiVmV1aWxsZXogZW50cmVyIHVuIGUtbWFpbCB2YWxpZGUuXCI7XHJcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbC5cIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVtYWlsRXJyb3JcIikudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghbm9tIHx8ICFwcmVub20gfHwgIWVtYWlsIHx8ICFyb2xlKSB7XHJcbiAgICAgICAgYWxlcnQoXCJWZXVpbGxleiByZW1wbGlyIHRvdXMgbGVzIGNoYW1wcy5cIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZvdXMgcG91dmV6IHV0aWxpc2VyIGNlcyBpbmZvcm1hdGlvbnMgY29tbWUgYm9uIHZvdXMgc2VtYmxlLCBwYXIgZXhlbXBsZSwgbGVzIHN0b2NrZXIgZGFucyB1biB0YWJsZWF1IG91IHVuIG9iamV0XHJcbiAgICAvLyBpY2ksIGplIGxlcyBhZmZpY2hlIHNpbXBsZW1lbnQgZGFucyBsYSBjb25zb2xlXHJcbiAgICBjb25zb2xlLmxvZyhcIkluc2NyaXB0aW9uIHZhbGlkw6llIHBvdXIgbGEgc8OpYW5jZSBcIiArIGluZGV4U2VhbmNlICsgXCI6XCIpO1xyXG4gICAgY29uc29sZS5sb2coXCJOb206IFwiICsgbm9tKTtcclxuICAgIGNvbnNvbGUubG9nKFwiUHLDqW5vbTogXCIgKyBwcmVub20pO1xyXG4gICAgY29uc29sZS5sb2coXCJSw7RsZTogXCIgKyByb2xlKTtcclxuICAgIGNvbnNvbGUubG9nKFwiRW1haWw6IFwiICsgZW1haWwpO1xyXG4gICAgY29uc29sZS5sb2cobGlzdGVTZWFuY2VzKTtcclxuICAgIHZhciBzZWFuY2UgPSBsaXN0ZVNlYW5jZXNbaW5kZXhTZWFuY2VdO1xyXG4gICAgdmFyIGRhdGVTZWFuY2UgPSBzZWFuY2UuZGF0ZTtcclxuICAgIHZhciBoZXVyZVNlYW5jZSA9IHNlYW5jZS5oZXVyZTtcclxuICAgIHZhciBub21Db3VycyA9IHNlYW5jZS5jb3VycztcclxuICAgIHZhciBjbGFzc2UgPSAgc2VhbmNlLmNsYXNzZTtcclxuXHJcblxyXG4gICAgZW52b3llckVtYWlsQ29uZmlybWF0aW9uKG5vbSwgcHJlbm9tLCBlbWFpbCwgcm9sZSwgZGF0ZVNlYW5jZSwgaGV1cmVTZWFuY2UsIG5vbUNvdXJzLGNsYXNzZSk7XHJcblxyXG4gICAgLy8gUsOpaW5pdGlhbGlzZXIgbGUgZm9ybXVsYWlyZVxyXG4gICAgdmFyIG1zZ193YXJuID0gXCJVbiBtYWlsIGRlIGNvbmZpcm1hdGlvbiB2b3VzIMOgIMOpdMOpIGVudm95ZXIgw6AgbCdhZHJlc3NlIG1haWwgc3VpdmFudGUgOiBcIiArIGVtYWlsXHJcbiAgICBhbGVydChtc2dfd2FybilcclxuICAgIGNvbnNvbGUubG9nKG1zZ193YXJuKTtcclxuICAgIFxyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gRm9uY3Rpb24gcG91ciByw6lpbml0aWFsaXNlciBsZSBmb3JtdWxhaXJlIGQnaW5zY3JpcHRpb25cclxuZnVuY3Rpb24gcmVzZXRJbnNjcmlwdGlvbkZvcm0oKSB7XHJcbiAgICB2YXIgaW5zY3JpcHRpb25Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNjcmlwdGlvbkZvcm1cIik7XHJcbiAgICBpbnNjcmlwdGlvbkZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgaW5zY3JpcHRpb25Gb3JtLmRhdGFzZXQuaW5kZXhTZWFuY2UgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub21cIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmVub21cIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb2xlXCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1haWxcIikudmFsdWUgPSBcIlwiO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYWZmaWNoZXJGb3JtdWxhaXJlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5zY3JpcHRpb25Gb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gZW52b3llckVtYWlsQ29uZmlybWF0aW9uKG5vbSwgcHJlbm9tLCBlbWFpbCwgcm9sZSwgZGF0ZVNlYW5jZSwgaGV1cmVTZWFuY2UsIG5vbUNvdXJzLGNsYXNzZSkge1xyXG4gICAgZW1haWxqcy5pbml0KFVTRVJfSUQpO1xyXG5cclxuICAgIHZhciB0ZW1wbGF0ZVBhcmFtcyA9IHtcclxuICAgICAgICBub206IG5vbSxcclxuICAgICAgICBwcmVub206IHByZW5vbSxcclxuICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgcm9sZTogcm9sZSxcclxuICAgICAgICBkYXRlU2VhbmNlOiBkYXRlU2VhbmNlLFxyXG4gICAgICAgIGhldXJlU2VhbmNlOiBoZXVyZVNlYW5jZSxcclxuICAgICAgICBub21Db3Vyczogbm9tQ291cnMsXHJcbiAgICAgICAgY2xhc3NlOiBjbGFzc2UsXHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBlbWFpbGpzLnNlbmQoU0VSVklDRV9JRCwgVEVNUExBVEVfSUQsIHRlbXBsYXRlUGFyYW1zKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRS1tYWlsIGVudm95w6kgYXZlYyBzdWNjw6hzXCIsIHJlc3BvbnNlKTtcclxuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycmV1ciBsb3JzIGRlIGwnZW52b2kgZGUgbCdlLW1haWxcIiwgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNWYWxpZEVtYWlsKGVtYWlsKSB7XHJcbiAgICAvLyBWw6lyaWZpZSBzaSBsYSBjaGHDrm5lICdAc3RwYmIub3JnJyBlc3QgcHLDqXNlbnRlIGRhbnMgbGUgcGFyYW3DqHRyZSAnZW1haWwnXHJcbiAgICBjb25zb2xlLmxvZyhlbWFpbClcclxuICAgIHJldHVybiBlbWFpbC5pbmNsdWRlcygnQHN0cGJiLm9yZycpO1xyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///982\n')}},__webpack_exports__={};__webpack_modules__[982]()})();